---
title: "AI çš„åŸºç¡€å·¥å…·ï¼šæ–‡ä»¶è¯»å†™ã€ç¼–è¾‘ä¸æœç´¢ | OpenCode æ•™ç¨‹"
subtitle: AI çš„åŸºç¡€å·¥å…·
course: OpenCode ä¸­æ–‡å®æˆ˜è¯¾
stage: ç¬¬äºŒé˜¶æ®µ
lesson: "2.1c"
duration: 20 åˆ†é’Ÿ
practice: 15 åˆ†é’Ÿ
level: æ–°æ‰‹
description: äº†è§£ OpenCode æ ¸å¿ƒå·¥å…· readã€writeã€editã€bashã€grepã€glob çš„ç”¨æ³•å’Œåˆ†å·¥ã€‚å­¦ä¼šè®© AI é«˜æ•ˆè¯»å–æ–‡ä»¶ã€ç²¾ç¡®ç¼–è¾‘ä»£ç ã€æ‰§è¡Œå‘½ä»¤å’Œæœç´¢ä»£ç åº“ã€‚
tags:
  - å·¥å…·
  - æ–‡ä»¶æ“ä½œ
  - æœç´¢
  - å‘½ä»¤æ‰§è¡Œ
prerequisite:
  - 2.1 ç•Œé¢ä¸åŸºç¡€æ“ä½œ
---

# AI çš„åŸºç¡€å·¥å…·

## ğŸ“ è¯¾ç¨‹ç¬”è®°

æœ¬è¯¾æ ¸å¿ƒçŸ¥è¯†ç‚¹æ•´ç†ï¼š

<img src="/images/2-daily/basic-tools-notes.mini.jpeg" 
     alt="AI çš„åŸºç¡€å·¥å…·å­¦éœ¸ç¬”è®°" 
     data-zoom-src="/images/2-daily/basic-tools-notes.jpeg" />

---

::: warning ğŸ“– è¿™è¯¾ä¸éœ€è¦ä½ åŠ¨æ‰‹æ“ä½œ
è¿™è¯¾è®²çš„æ˜¯ **AI åœ¨å¹•åç”¨ä»€ä¹ˆå·¥å…·å¸®ä½ å¹²æ´»**ï¼Œä¸æ˜¯è®©ä½ å­¦æ€ä¹ˆè°ƒç”¨è¿™äº›å·¥å…·ã€‚

ä½ åªç®¡ç”¨è‡ªç„¶è¯­è¨€è¯´"å¸®æˆ‘æ”¹ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶"ã€"æœç´¢æ‰€æœ‰ TODO"ï¼ŒAI ä¼šè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„å·¥å…·ã€‚

**é‚£ä¸ºä»€ä¹ˆè¦äº†è§£ï¼Ÿ** å› ä¸ºçŸ¥é“ AI çš„èƒ½åŠ›è¾¹ç•Œï¼Œä½ æ‰èƒ½ï¼š
- å†™å‡ºæ›´å¥½çš„æç¤ºè¯ï¼ˆæ¯”å¦‚çŸ¥é“å¯ä»¥è®© AI æœç´¢ä»£ç ï¼‰
- é‡åˆ°æŠ¥é”™æ—¶ä¸æ…Œï¼ˆæ¯”å¦‚ AI è¯´"æ–‡ä»¶å¤ªå¤§"ï¼Œä½ çŸ¥é“è¿™æ˜¯æ­£å¸¸çš„ï¼‰
- ç†è§£ AI ä¸ºä»€ä¹ˆè¦å…ˆè¯»æ–‡ä»¶å†æ”¹ï¼ˆä¸æ˜¯å®ƒç¬¨ï¼Œæ˜¯å®‰å…¨æœºåˆ¶ï¼‰
:::

---

## å­¦å®Œä½ èƒ½åšä»€ä¹ˆ

::: info ğŸ¯ å­¦å®Œä½ èƒ½åšä»€ä¹ˆ
- çŸ¥é“ AI èƒ½å¸®ä½ åšå“ªäº›äº‹ï¼ˆè¯»æ–‡ä»¶ã€æ”¹ä»£ç ã€è·‘å‘½ä»¤ã€æœç´¢ä»£ç åº“ï¼‰
- é‡åˆ°"æ–‡ä»¶å¤ªå¤§"ã€"å¤šå¤„åŒ¹é…"ç­‰æç¤ºæ—¶çŸ¥é“æ€ä¹ˆå›äº‹
- ç†è§£ AI ä¸ºä»€ä¹ˆæœ‰æ—¶å€™è¦"å…ˆè¯»å†æ”¹"
- æ›´æœ‰ä¿¡å¿ƒåœ°æŒ‡æŒ¥ AI å¹²æ´»
:::

---

## ä½ ç°åœ¨çš„å›°å¢ƒ

ä½ å·²ç»ä¼šå’Œ AI å¯¹è¯äº†ï¼Œä½†æœ‰æ—¶å€™ä¼šå†’å‡ºä¸€äº›ç–‘é—®ï¼š

- "AI è¯»æ–‡ä»¶æ—¶å¦‚æœæ–‡ä»¶å¾ˆå¤§æ€ä¹ˆåŠï¼Ÿä¼šä¸ä¼šæ¼æ‰å†…å®¹ï¼Ÿ"
- "AI æ”¹ä»£ç ä¼šä¸ä¼šæ”¹é”™åœ°æ–¹ï¼Ÿå®ƒæ€ä¹ˆçŸ¥é“æ”¹å“ªé‡Œï¼Ÿ"
- "AI èƒ½æ‰§è¡Œå“ªäº›å‘½ä»¤ï¼Ÿä¼šä¸ä¼šæŠŠæˆ‘çš„ç”µè„‘æåï¼Ÿ"
- "æƒ³æ‰¾æŸä¸ªå‡½æ•°åœ¨å“ªäº›æ–‡ä»¶é‡Œï¼Œæ€ä¹ˆè®© AI æœç´¢ï¼Ÿ"

è¿™äº›é—®é¢˜çš„ç­”æ¡ˆéƒ½åœ¨ AI çš„æ ¸å¿ƒå·¥å…·é‡Œã€‚äº†è§£å®ƒä»¬ï¼Œä½ å°±èƒ½æ›´æ”¾å¿ƒåœ°è®© AI å¸®ä½ å¹²æ´»ã€‚

---

## ä»€ä¹ˆæ—¶å€™è¯»è¿™è¯¾

- å¥½å¥‡ AI åˆ°åº•æ˜¯æ€ä¹ˆæ“ä½œä½ çš„æ–‡ä»¶çš„
- é‡åˆ°äº†"æ–‡ä»¶å¤ªå¤§"ã€"æ‰¾ä¸åˆ°åŒ¹é…"ç­‰æç¤ºï¼Œæƒ³ææ¸…æ¥šæ€ä¹ˆå›äº‹
- æƒ³çŸ¥é“ AI èƒ½ä¸èƒ½å¸®ä½ æœç´¢ä»£ç ã€æ‰§è¡Œå‘½ä»¤
- æƒ³å†™å‡ºæ›´ç²¾å‡†çš„æç¤ºè¯ï¼Œè®© AI æ›´é«˜æ•ˆ

---

## ğŸ’ å¼€å§‹å‰çš„å‡†å¤‡

- [ ] å®Œæˆäº† [2.1 ç•Œé¢ä¸åŸºç¡€æ“ä½œ](./01-interface)
- [ ] æœ‰ä¸€ä¸ªå¯ç”¨çš„é¡¹ç›®ç›®å½•ï¼ˆéšä¾¿ä»€ä¹ˆé¡¹ç›®éƒ½è¡Œï¼‰
- [ ] OpenCode èƒ½æ­£å¸¸å’Œ AI å¯¹è¯

---

## æ ¸å¿ƒæ€è·¯

<AdInArticle />

OpenCode ç»™ AI é…äº† **10 ä¸ªæ ¸å¿ƒå·¥å…·**ï¼Œæœ¬è¯¾é‡ç‚¹è®²è§£å…¶ä¸­ 6 ä¸ªæœ€å¸¸ç”¨çš„æ–‡ä»¶æ“ä½œå·¥å…·ï¼š

| å·¥å…· | å¹²ä»€ä¹ˆ | ç±»æ¯” |
|------|--------|------|
| **read** | è¯»å–æ–‡ä»¶æˆ–ç›®å½• | æ‰“å¼€æ–‡ä»¶çœ‹å†…å®¹ |
| **write** | åˆ›å»ºæˆ–è¦†ç›–æ–‡ä»¶ | å¦å­˜ä¸º |
| **edit** | ç²¾ç¡®æ›¿æ¢æ–‡ä»¶ä¸­çš„æ–‡æœ¬ | æŸ¥æ‰¾æ›¿æ¢ |
| **bash** | æ‰§è¡Œ Shell å‘½ä»¤ | åœ¨ç»ˆç«¯æ•²å‘½ä»¤ |
| **grep** | æŒ‰å†…å®¹æœç´¢æ–‡ä»¶ | å…¨å±€æœç´¢ |
| **glob** | æŒ‰æ–‡ä»¶åæœç´¢æ–‡ä»¶ | æ–‡ä»¶ç®¡ç†å™¨é‡Œæœæ–‡ä»¶å |

ä½ ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨è¿™äº›å·¥å…·ã€‚ä½ åªç®¡ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼ŒAI ä¼šè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„å·¥å…·ã€‚

::: info è¿˜æœ‰æ›´å¤šå·¥å…·
é™¤äº†è¿™ 6 ä¸ªæ–‡ä»¶æ“ä½œå·¥å…·ï¼ŒOpenCode è¿˜æœ‰ï¼š

| å·¥å…· | ä½œç”¨ | æ•™ç¨‹ä½ç½® |
|------|------|---------|
| **Task** | åˆ›å»ºå­ Agent å¤„ç†å¤æ‚ä»»åŠ¡ | [Agent æƒé™ä¸å®‰å…¨](/5-advanced/02c-agent-permissions) |
| **WebFetch** | è·å–ç½‘é¡µå†…å®¹ | [è”ç½‘æœç´¢](/5-advanced/23-web-search) |
| **TodoWrite** | ä»»åŠ¡æ¸…å•ç®¡ç†ï¼ˆAI è‡ªåŠ¨ä½¿ç”¨ï¼‰ | â€” |
| **Skill** | åŠ è½½ä¸“ä¸šçŸ¥è¯†åŒ… | [Skill ç³»åˆ—](/5-advanced/03a-skills-basics) |

**TodoWrite æ˜¯ä»€ä¹ˆï¼Ÿ**

å½“ä½ ç»™ AI ä¸€ä¸ªå¤æ‚ä»»åŠ¡æ—¶ï¼Œå¯èƒ½ä¼šçœ‹åˆ°å®ƒè‡ªåŠ¨åˆ—å‡ºè¿™æ ·çš„è®¡åˆ’ï¼š

```
1. [ ] åˆ†æä»£ç ç»“æ„
2. [x] è¯»å–é…ç½®æ–‡ä»¶
3. [ ] ä¿®æ”¹å…¥å£æ–‡ä»¶
4. [ ] è¿è¡Œæµ‹è¯•éªŒè¯
```

è¿™å°±æ˜¯ TodoWrite å·¥å…·åœ¨å·¥ä½œã€‚å®ƒä¼šåˆ›å»ºä¸€ä¸ªä»»åŠ¡æ¸…å•ï¼Œåšå®Œä¸€é¡¹å‹¾é€‰ä¸€é¡¹ï¼Œé˜²æ­¢ AI "å¿˜äº‹"æˆ–"èµ°å"ã€‚ä½ ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨ï¼ŒAI ä¼šåœ¨éœ€è¦æ—¶è‡ªåŠ¨ä½¿ç”¨ã€‚
:::

ä½†äº†è§£å®ƒä»¬çš„èƒ½åŠ›å’Œé™åˆ¶ï¼Œèƒ½å¸®ä½ å†™å‡ºæ›´å¥½çš„æç¤ºè¯ï¼Œä¹Ÿèƒ½åœ¨å‡ºé—®é¢˜æ—¶å¿«é€Ÿå®šä½åŸå› ã€‚

::: tip æ ¸å¿ƒåŸåˆ™ï¼šå·¥å…·å„å¸å…¶èŒ
ä¸è¦è®© AI ç”¨ bash å‘½ä»¤ï¼ˆ`cat`ã€`sed`ã€`grep`ï¼‰æ¥åšæ–‡ä»¶æ“ä½œã€‚ä¸“ç”¨å·¥å…·æœ‰æƒé™æ£€æŸ¥ã€æ™ºèƒ½å®¹é”™ã€æ€§èƒ½ä¼˜åŒ–ï¼Œbash å‘½ä»¤æ²¡æœ‰è¿™äº›ä¿æŠ¤ã€‚
:::

---

## è·Ÿæˆ‘åš

### ç¬¬ 1 æ­¥ï¼šè®© AI è¯»å–æ–‡ä»¶

**ä¸ºä»€ä¹ˆ**
read æ˜¯æœ€åŸºç¡€çš„å·¥å…·ï¼ŒAI éœ€è¦å…ˆ"çœ‹åˆ°"æ–‡ä»¶å†…å®¹æ‰èƒ½å¸®ä½ åˆ†ææˆ–ä¿®æ”¹ã€‚

åœ¨ OpenCode ä¸­è¾“å…¥ï¼š

```
å¸®æˆ‘çœ‹çœ‹ package.json é‡Œæœ‰ä»€ä¹ˆ
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šAI è°ƒç”¨ read å·¥å…·è¯»å–æ–‡ä»¶ï¼Œç„¶åç»™ä½ åˆ†æå†…å®¹ã€‚

::: details ğŸ“¦ read å·¥å…·çš„èƒ½åŠ›
**åŸºæœ¬å‚æ•°**ï¼š
- `filePath`ï¼šæ–‡ä»¶çš„ç»å¯¹è·¯å¾„
- `offset`ï¼šä»ç¬¬å‡ è¡Œå¼€å§‹è¯»ï¼ˆé»˜è®¤ç¬¬ 1 è¡Œï¼‰
- `limit`ï¼šæœ€å¤šè¯»å¤šå°‘è¡Œï¼ˆé»˜è®¤ 2000 è¡Œï¼‰

**å¤§æ–‡ä»¶å¤„ç†**ï¼šå¦‚æœæ–‡ä»¶è¶…è¿‡ 2000 è¡Œï¼Œread ä¼šè‡ªåŠ¨æˆªæ–­ï¼Œå¹¶æç¤º"Use offset parameter to read beyond line 2001"ã€‚AI ä¼šè‡ªåŠ¨ç”¨ offset å‚æ•°ç»§ç»­è¯»å–åé¢çš„å†…å®¹ã€‚

**ç‰¹æ®Šæ–‡ä»¶**ï¼šread è¿˜èƒ½è¯»å–å›¾ç‰‡ï¼ˆPNGã€JPGã€GIFï¼‰å’Œ PDFï¼Œä¼šè½¬æˆ base64 å‘ç»™ AI æ¨¡å‹åˆ†æã€‚ä½†ä¸æ”¯æŒ SVG å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆ.zipã€.exe ç­‰ï¼‰ã€‚

**æ™ºèƒ½çº é”™**ï¼šå¦‚æœä½ æ‹¼é”™äº†æ–‡ä»¶åï¼Œread ä¼šæç¤ºç›¸ä¼¼çš„æ–‡ä»¶åã€‚æ¯”å¦‚ä½ è¯´ `packge.json`ï¼Œå®ƒä¼šå»ºè®® `package.json`ã€‚

**è¯»å–ç›®å½•**ï¼šread ä¸ä»…èƒ½è¯»æ–‡ä»¶ï¼Œè¿˜èƒ½è¯»ç›®å½•ã€‚åœ¨å¯¹è¯ä¸­ç”¨ `@ç›®å½•å` æåŠä¸€ä¸ªç›®å½•ï¼ŒAI ä¼šç”¨ read å·¥å…·è·å–ç›®å½•å†…å®¹ï¼ˆåˆ—å‡ºå­ç›®å½•å’Œæ–‡ä»¶ï¼‰ï¼Œè¾“å‡ºæ ¼å¼å‹å¥½æ˜“è¯»ã€‚è¿™åœ¨ä½ æƒ³è®© AI äº†è§£é¡¹ç›®ç»“æ„æ—¶å¾ˆæœ‰ç”¨ã€‚
:::

### ç¬¬ 2 æ­¥ï¼šè®© AI åˆ›å»ºæ–‡ä»¶

**ä¸ºä»€ä¹ˆ**
write å·¥å…·ç”¨æ¥åˆ›å»ºæ–°æ–‡ä»¶æˆ–å®Œå…¨è¦†ç›–å·²æœ‰æ–‡ä»¶ã€‚

```
å¸®æˆ‘åˆ›å»ºä¸€ä¸ª hello.txtï¼Œå†…å®¹å†™ "Hello OpenCode"
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šAI è°ƒç”¨ write å·¥å…·åˆ›å»ºæ–‡ä»¶ï¼Œå¹¶æ˜¾ç¤ºå†™å…¥æˆåŠŸã€‚

::: warning âš ï¸ "å…ˆè¯»åå†™"è§„åˆ™
å¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼ŒAI å¿…é¡»å…ˆç”¨ read è¯»å–æ–‡ä»¶ï¼Œç„¶åæ‰èƒ½ç”¨ write è¦†ç›–ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢ AI åœ¨ä¸çŸ¥é“æ–‡ä»¶å½“å‰å†…å®¹çš„æƒ…å†µä¸‹è¯¯è¦†ç›–ã€‚

å¦‚æœ AI è·³è¿‡äº†è¯»å–ç›´æ¥å†™å…¥å·²æœ‰æ–‡ä»¶ï¼ŒOpenCode ä¼šæŠ¥é”™ã€‚
:::

**å†™å…¥åçš„è‡ªåŠ¨æ£€æŸ¥**ï¼šwrite å®Œæˆåä¼šè‡ªåŠ¨è§¦å‘ LSP è¯Šæ–­ã€‚å¦‚æœå†™å…¥çš„ä»£ç æœ‰è¯­æ³•é”™è¯¯æˆ–ç±»å‹é—®é¢˜ï¼ŒAI ä¼šç«‹åˆ»çœ‹åˆ°å¹¶å°è¯•ä¿®å¤ã€‚

### ç¬¬ 3 æ­¥ï¼šè®© AI ç¼–è¾‘æ–‡ä»¶

**ä¸ºä»€ä¹ˆ**
edit æ˜¯ OpenCode æœ€èªæ˜çš„å·¥å…·ã€‚å®ƒä¸æ˜¯ç®€å•åœ°"æ”¹ç¬¬å‡ è¡Œ"ï¼Œè€Œæ˜¯ç”¨å­—ç¬¦ä¸²åŒ¹é…æ¥ç²¾ç¡®å®šä½è¦ä¿®æ”¹çš„ä½ç½®ã€‚

```
æŠŠ hello.txt é‡Œçš„ "Hello OpenCode" æ”¹æˆ "Hello World"
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šAI è°ƒç”¨ edit å·¥å…·ï¼Œç”¨ `oldString: "Hello OpenCode"` å’Œ `newString: "Hello World"` å®Œæˆæ›¿æ¢ã€‚

::: details ğŸ“¦ edit çš„æ™ºèƒ½åŒ¹é…
edit å·¥å…·æœ‰ 9 å±‚åŒ¹é…ç­–ç•¥ï¼Œä»ä¸¥æ ¼åˆ°å®½æ¾é€å±‚å°è¯•ï¼š

| ç­–ç•¥ | è¯´æ˜ | ä¾‹å­ |
|------|------|------|
| ç²¾ç¡®åŒ¹é… | å®Œå…¨ä¸€è‡´ | `foo` åŒ¹é… `foo` |
| è¡Œé¦–å°¾ç©ºç™½å¿½ç•¥ | å¿½ç•¥æ¯è¡Œå¼€å¤´ç»“å°¾çš„ç©ºæ ¼ | `  foo  ` åŒ¹é… `foo` |
| é¦–å°¾è¡Œé”šç‚¹ | ç”¨ç¬¬ä¸€è¡Œå’Œæœ€åä¸€è¡Œå®šä½ä»£ç å— | å‡½æ•°å¼€å¤´å’Œç»“å°¾åŒ¹é… |
| ç©ºç™½è§„èŒƒåŒ– | å¤šä¸ªç©ºæ ¼å½“ä¸€ä¸ª | `a  b` åŒ¹é… `a b` |
| ç¼©è¿›å®¹é”™ | å¿½ç•¥æ•´ä½“ç¼©è¿›å·®å¼‚ | 2 ç©ºæ ¼ç¼©è¿›åŒ¹é… 4 ç©ºæ ¼ |
| è½¬ä¹‰å­—ç¬¦å¤„ç† | å¤„ç† `\n`ã€`\t` ç­‰ | `a\nb` åŒ¹é…å®é™…æ¢è¡Œ |
| è¾¹ç•Œä¿®å‰ª | å»æ‰é¦–å°¾ç©ºç™½ååŒ¹é… | å‰åæœ‰ç©ºè¡Œä¹Ÿèƒ½åŒ¹é… |
| ä¸Šä¸‹æ–‡æ„ŸçŸ¥ | ç”¨é¦–å°¾è¡Œ + ä¸­é—´å†…å®¹ç›¸ä¼¼åº¦ | ä»£ç å—ç•¥æœ‰å˜åŒ–ä¹Ÿèƒ½åŒ¹é… |
| å¤šå¤„åŒ¹é… | æ‰¾åˆ°æ‰€æœ‰ç²¾ç¡®åŒ¹é… | é…åˆ replaceAll ä½¿ç”¨ |

ç®€å•è¯´ï¼šä½ ç»™ AI çš„ä»£ç ç‰‡æ®µä¸éœ€è¦å’Œæ–‡ä»¶é‡Œçš„å®Œå…¨ä¸€è‡´ï¼Œæœ‰ç‚¹ç¼©è¿›å·®å¼‚ã€ç©ºæ ¼å·®å¼‚éƒ½æ²¡å…³ç³»ã€‚
:::

**å¤šå¤„åŒ¹é…æ€ä¹ˆåŠï¼Ÿ**

å¦‚æœ `oldString` åœ¨æ–‡ä»¶ä¸­å‡ºç°äº†å¤šæ¬¡ï¼Œedit ä¼šæŠ¥é”™ï¼š

```
Found multiple matches for oldString.
Provide more surrounding lines in oldString to identify the correct match.
```

è§£å†³æ–¹æ³•ï¼š
- è®© AI æä¾›æ›´å¤šä¸Šä¸‹æ–‡ï¼ˆå¤šåŒ…å«å‡ è¡Œä»£ç ï¼‰ï¼Œç¡®ä¿å”¯ä¸€åŒ¹é…
- æˆ–è€…ç”¨ `replaceAll` å‚æ•°ä¸€æ¬¡æ€§æ›¿æ¢æ‰€æœ‰åŒ¹é…

### ç¬¬ 4 æ­¥ï¼šè®© AI æ‰§è¡Œå‘½ä»¤

**ä¸ºä»€ä¹ˆ**
bash å·¥å…·è®© AI èƒ½æ‰§è¡Œ Shell å‘½ä»¤ï¼Œæ¯”å¦‚è·‘æµ‹è¯•ã€è£…ä¾èµ–ã€æŸ¥çœ‹ Git çŠ¶æ€ã€‚

```
å¸®æˆ‘è¿è¡Œä¸€ä¸‹ git status
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šAI è°ƒç”¨ bash å·¥å…·æ‰§è¡Œå‘½ä»¤ï¼Œè¿”å› Git çŠ¶æ€ä¿¡æ¯ã€‚

::: danger ğŸš« ä¸è¦ç”¨ bash åšæ–‡ä»¶æ“ä½œ
è¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“çŠ¯çš„é”™è¯¯ã€‚bash å·¥å…·æ˜¯ç”¨æ¥æ‰§è¡Œå‘½ä»¤çš„ï¼Œä¸æ˜¯ç”¨æ¥æ“ä½œæ–‡ä»¶çš„ã€‚

| âŒ ä¸è¦è¿™æ · | âœ… åº”è¯¥è¿™æ · |
|------------|-----------|
| ç”¨ `cat` è¯»æ–‡ä»¶ | ç”¨ read å·¥å…· |
| ç”¨ `echo > file` å†™æ–‡ä»¶ | ç”¨ write å·¥å…· |
| ç”¨ `sed` ç¼–è¾‘æ–‡ä»¶ | ç”¨ edit å·¥å…· |
| ç”¨ `find` æœæ–‡ä»¶ | ç”¨ glob å·¥å…· |
| ç”¨ `grep` æœå†…å®¹ | ç”¨ grep å·¥å…· |

ä¸ºä»€ä¹ˆï¼Ÿä¸“ç”¨å·¥å…·æœ‰æƒé™æ£€æŸ¥ã€æ™ºèƒ½å®¹é”™ã€LSP è¯Šæ–­ï¼Œbash å‘½ä»¤æ²¡æœ‰è¿™äº›ä¿æŠ¤ã€‚
:::

**bash çš„å®‰å…¨æœºåˆ¶**ï¼š
- é»˜è®¤è¶…æ—¶ 2 åˆ†é’Ÿï¼Œé˜²æ­¢å‘½ä»¤å¡ä½
- ç”¨ tree-sitter è§£æå‘½ä»¤è¯­æ³•ï¼Œå¯¹ `rm`ã€`cp`ã€`mv` ç­‰æ–‡ä»¶æ“ä½œå‘½ä»¤æ£€æŸ¥è·¯å¾„æ˜¯å¦åœ¨é¡¹ç›®ç›®å½•å†…
- æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¯·æ±‚æƒé™ç¡®è®¤ï¼ˆå¯è®¾ç½®è‡ªåŠ¨æ‰¹å‡†è§„åˆ™ï¼‰
- è¾“å‡ºè¶…è¿‡ 2000 è¡Œæˆ– 50KB ä¼šè‡ªåŠ¨æˆªæ–­

### ç¬¬ 5 æ­¥ï¼šè®© AI æœç´¢ä»£ç 

**ä¸ºä»€ä¹ˆ**
grep å’Œ glob æ˜¯ä¸¤ä¸ªæœç´¢å·¥å…·ï¼Œä¸€ä¸ªæœå†…å®¹ï¼Œä¸€ä¸ªæœæ–‡ä»¶åã€‚

**æœç´¢æ–‡ä»¶å†…å®¹**ï¼ˆgrepï¼‰ï¼š

```
å¸®æˆ‘æ‰¾å‡ºé¡¹ç›®é‡Œæ‰€æœ‰ç”¨åˆ° console.log çš„åœ°æ–¹
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šAI è°ƒç”¨ grep å·¥å…·ï¼Œè¿”å›åŒ¹é…çš„æ–‡ä»¶å’Œè¡Œå·ã€‚

**æœç´¢æ–‡ä»¶å**ï¼ˆglobï¼‰ï¼š

```
å¸®æˆ‘æ‰¾å‡ºæ‰€æœ‰çš„æµ‹è¯•æ–‡ä»¶
```

**ä½ åº”è¯¥çœ‹åˆ°**ï¼šAI è°ƒç”¨ glob å·¥å…·ï¼Œç”¨ `**/*.test.ts` ä¹‹ç±»çš„æ¨¡å¼æœç´¢ã€‚

| ä½ æƒ³åšä»€ä¹ˆ | AI ä¼šç”¨ä»€ä¹ˆ | ç¤ºä¾‹æç¤ºè¯ |
|-----------|-----------|-----------|
| æ‰¾æŸä¸ªå‡½æ•°åœ¨å“ªé‡Œç”¨äº† | grep | "æœç´¢æ‰€æœ‰è°ƒç”¨ getUserData çš„åœ°æ–¹" |
| æ‰¾æŸä¸ªæ–‡ä»¶åœ¨å“ª | glob | "æ‰¾åˆ°æ‰€æœ‰é…ç½®æ–‡ä»¶" |
| æ‰¾æŸä¸ªå­—ç¬¦ä¸² | grep | "æœç´¢æ‰€æœ‰ TODO æ³¨é‡Š" |
| åˆ—å‡ºæŸç±»æ–‡ä»¶ | glob | "åˆ—å‡º src ä¸‹æ‰€æœ‰ .tsx æ–‡ä»¶" |

::: tip æœç´¢ç»“æœé™åˆ¶
grep å’Œ glob éƒ½æœ€å¤šè¿”å› 100 æ¡ç»“æœã€‚å¦‚æœç»“æœè¢«æˆªæ–­ï¼Œå¯ä»¥ï¼š
- ç¼©å°æœç´¢ç›®å½•ï¼ˆ"åªåœ¨ src ç›®å½•ä¸‹æœç´¢"ï¼‰
- ç”¨æ›´ç²¾ç¡®çš„å…³é”®è¯
- è¿‡æ»¤æ–‡ä»¶ç±»å‹ï¼ˆ"åªæœç´¢ .ts æ–‡ä»¶"ï¼‰
:::

---

## å·¥å…·åä½œï¼šAI æ€ä¹ˆç»„åˆä½¿ç”¨

å®é™…å·¥ä½œä¸­ï¼ŒAI å¾ˆå°‘åªç”¨ä¸€ä¸ªå·¥å…·ã€‚çœ‹å‡ ä¸ªå…¸å‹åœºæ™¯ï¼š

**åœºæ™¯ 1ï¼šé‡å‘½åå‡½æ•°**

```
ä½ ï¼šæŠŠæ‰€æœ‰ getUserData æ”¹æˆ fetchUserInfo

AI çš„æ“ä½œæµç¨‹ï¼š
1. grep æœç´¢ "getUserData" â†’ æ‰¾åˆ° 20 ä¸ªæ–‡ä»¶
2. é€ä¸ªæ–‡ä»¶ read è¯»å–
3. edit + replaceAll æ›¿æ¢
4. bash è¿è¡Œæµ‹è¯•éªŒè¯
```

**åœºæ™¯ 2ï¼šæ·»åŠ æ–°åŠŸèƒ½**

```
ä½ ï¼šç»™ User ç»„ä»¶æ·»åŠ  email å­—æ®µ

AI çš„æ“ä½œæµç¨‹ï¼š
1. glob æœç´¢ "User.tsx" â†’ æ‰¾åˆ°æ–‡ä»¶
2. read è¯»å–æ–‡ä»¶å†…å®¹
3. edit ä¿®æ”¹æ¥å£å®šä¹‰å’Œç»„ä»¶ä»£ç 
4. è‡ªåŠ¨ LSP æ£€æŸ¥ç±»å‹é”™è¯¯
```

**åœºæ™¯ 3ï¼šå®šä½ Bug**

```
ä½ ï¼šç™»å½•åæ²¡æœ‰è·³è½¬åˆ°é¦–é¡µï¼Œå¸®æˆ‘æŸ¥ä¸€ä¸‹

AI çš„æ“ä½œæµç¨‹ï¼š
1. grep æœç´¢ "login" ç›¸å…³ä»£ç 
2. read è¯»å–ç™»å½•é€»è¾‘
3. grep æœç´¢ "redirect" æˆ– "navigate"
4. åˆ†æä»£ç é€»è¾‘ï¼Œæ‰¾åˆ°é—®é¢˜
```

---

## æ£€æŸ¥ç‚¹ âœ…

> å…¨éƒ¨é€šè¿‡æ‰èƒ½ç»§ç»­

- [ ] çŸ¥é“ AI æœ‰ 10 ä¸ªæ ¸å¿ƒå·¥å…·ï¼Œæœ¬è¯¾é‡ç‚¹å­¦äº† 6 ä¸ªæ–‡ä»¶æ“ä½œå·¥å…·
- [ ] ç†è§£"å…ˆè¯»åå†™"è§„åˆ™
- [ ] çŸ¥é“ edit å·¥å…·ç”¨å­—ç¬¦ä¸²åŒ¹é…è€Œä¸æ˜¯è¡Œå·å®šä½
- [ ] çŸ¥é“ä¸åº”è¯¥è®© AI ç”¨ bash åšæ–‡ä»¶æ“ä½œ
- [ ] çŸ¥é“ grep æœå†…å®¹ã€glob æœæ–‡ä»¶å

---

## è¸©å‘æé†’

| ç°è±¡ | åŸå›  | è§£å†³ |
|-----|-----|-----|
| AI è¯´"File not found" | æ–‡ä»¶è·¯å¾„é”™è¯¯æˆ–æ‹¼å†™é”™è¯¯ | read ä¼šæç¤ºç›¸ä¼¼æ–‡ä»¶åï¼ŒæŒ‰æç¤ºä¿®æ­£ |
| AI è¯´"Found multiple matches" | edit çš„ oldString åœ¨æ–‡ä»¶ä¸­å‡ºç°äº†å¤šæ¬¡ | è®© AI æä¾›æ›´å¤šä¸Šä¸‹æ–‡ï¼Œæˆ–ç”¨ replaceAll |
| AI è¯´"Output truncated" | æ–‡ä»¶æˆ–å‘½ä»¤è¾“å‡ºå¤ªå¤§ | æ­£å¸¸ç°è±¡ï¼ŒAI ä¼šè‡ªåŠ¨åˆ†æ®µè¯»å– |
| AI ç”¨ `cat` è¯»æ–‡ä»¶ | AI æ²¡æœ‰éµå®ˆå·¥å…·åˆ†å·¥ | æé†’å®ƒ"ç”¨ read å·¥å…·è¯»å–" |
| bash å‘½ä»¤è¶…æ—¶ | é»˜è®¤ 2 åˆ†é’Ÿè¶…æ—¶ | å‘Šè¯‰ AI "è¿™ä¸ªå‘½ä»¤å¯èƒ½éœ€è¦ 10 åˆ†é’Ÿ" |
| write æŠ¥é”™"must read first" | è¦†ç›–å·²æœ‰æ–‡ä»¶å‰æ²¡æœ‰å…ˆè¯»å– | AI ä¼šè‡ªåŠ¨å…ˆ read å† writeï¼Œå¦‚æœæŠ¥é”™å¯ä»¥æé†’å®ƒ |

---

## æœ¬è¯¾å°ç»“

OpenCode æœ‰ **10 ä¸ªæ ¸å¿ƒå·¥å…·**ï¼Œæœ¬è¯¾é‡ç‚¹è®²äº† **6 ä¸ªæ–‡ä»¶æ“ä½œå·¥å…·**ï¼š

| å·¥å…· | ä½œç”¨ | è®°å¿†ç‚¹ |
|------|------|--------|
| read | è¯»å–æ–‡ä»¶/ç›®å½• | å¤§æ–‡ä»¶è‡ªåŠ¨åˆ†æ®µï¼Œæ”¯æŒå›¾ç‰‡å’Œ PDFï¼Œå¯ç”¨ @ æåŠç›®å½• |
| write | åˆ›å»º/è¦†ç›–æ–‡ä»¶ | å¿…é¡»å…ˆè¯»åå†™ï¼Œå†™å®Œè‡ªåŠ¨ LSP æ£€æŸ¥ |
| edit | ç²¾ç¡®å­—ç¬¦ä¸²æ›¿æ¢ | 9 å±‚æ™ºèƒ½åŒ¹é…ï¼Œä¸æ€•ç¼©è¿›å·®å¼‚ |
| bash | æ‰§è¡Œ Shell å‘½ä»¤ | æœ‰è¶…æ—¶å’Œå®‰å…¨æ£€æŸ¥ï¼Œåˆ«ç”¨å®ƒæ“ä½œæ–‡ä»¶ |
| grep | æœç´¢æ–‡ä»¶å†…å®¹ | æ­£åˆ™è¡¨è¾¾å¼ï¼Œæœ€å¤š 100 æ¡ç»“æœ |
| glob | æœç´¢æ–‡ä»¶å | glob æ¨¡å¼ï¼Œæœ€å¤š 100 æ¡ç»“æœ |

è®°ä½ä¸‰æ¡è§„åˆ™ï¼š
1. ä¸“ç”¨å·¥å…· > bash å‘½ä»¤
2. å…ˆè¯»å–å†å†™å…¥
3. æœç´¢ç»“æœæœ‰ä¸Šé™ï¼Œå¿…è¦æ—¶ç¼©å°èŒƒå›´

---

## ä¸‹ä¸€è¯¾é¢„å‘Š

> ä¸‹ä¸€è¯¾æˆ‘ä»¬å­¦ä¹  **[ç®¡ç†å¯¹è¯](./02-sessions)**ã€‚
>
> ä½ ä¼šå­¦åˆ°ï¼š
> - å¦‚ä½•æ–°å»ºã€åˆ‡æ¢ã€é‡å‘½åä¼šè¯
> - å¦‚ä½•æ’¤é”€ä¸æ»¡æ„çš„å›å¤
> - å¦‚ä½•å¯¼å‡ºèŠå¤©è®°å½•

---

## é™„å½•ï¼šæºç å‚è€ƒ

<details>
<summary><strong>ç‚¹å‡»å±•å¼€æŸ¥çœ‹æºç ä½ç½®</strong></summary>

> æ›´æ–°æ—¶é—´ï¼š2026-02-14

| åŠŸèƒ½ | æ–‡ä»¶è·¯å¾„ | è¡Œå· |
|------|---------|------|
| **å·¥å…·æ³¨å†Œè¡¨ï¼ˆå®Œæ•´åˆ—è¡¨ï¼‰** | [`src/tool/registry.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/registry.ts#L98-L119) | 98-119 |
| read å·¥å…·å®šä¹‰å’Œå‚æ•° | [`src/tool/read.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/read.ts#L17-L204) | 17-204 |
| read é»˜è®¤é™åˆ¶å¸¸é‡ | [`src/tool/read.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/read.ts#L13-L15) | 13-15 |
| read äºŒè¿›åˆ¶æ–‡ä»¶æ£€æµ‹ | [`src/tool/read.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/read.ts#L206-L261) | 206-261 |
| read å›¾ç‰‡/PDF å¤„ç† | [`src/tool/read.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/read.ts#L113-L139) | 113-139 |
| read æ–‡ä»¶åå»ºè®® | [`src/tool/read.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/read.ts#L49-L67) | 49-67 |
| write å·¥å…·å®šä¹‰ | [`src/tool/write.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/write.ts#L19-L85) | 19-85 |
| write LSP è¯Šæ–­ | [`src/tool/write.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/write.ts#L56-L73) | 56-73 |
| edit å·¥å…·å®šä¹‰å’Œå‚æ•° | [`src/tool/edit.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/edit.ts#L27-L155) | 27-155 |
| edit 9 å±‚åŒ¹é…ç­–ç•¥ | [`src/tool/edit.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/edit.ts#L184-L580) | 184-580 |
| edit replace æ ¸å¿ƒå‡½æ•° | [`src/tool/edit.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/edit.ts#L618-L655) | 618-655 |
| bash å·¥å…·å®šä¹‰ | [`src/tool/bash.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/bash.ts#L55-L269) | 55-269 |
| bash é»˜è®¤è¶…æ—¶ | [`src/tool/bash.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/bash.ts#L22) | 22 |
| bash å‘½ä»¤è§£æ | [`src/tool/bash.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/bash.ts#L93-L145) | 93-145 |
| bash è¾“å‡ºæˆªæ–­å¸¸é‡ | [`src/tool/truncation.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/truncation.ts#L10-L11) | 10-11 |
| bash è¾“å‡ºæˆªæ–­é€»è¾‘ | [`src/tool/truncation.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/truncation.ts#L50-L105) | 50-105 |
| grep å·¥å…·å®šä¹‰ | [`src/tool/grep.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/grep.ts#L12-L150) | 12-150 |
| grep ç»“æœé™åˆ¶ | [`src/tool/grep.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/grep.ts#L100-L101) | 100-101 |
| glob å·¥å…·å®šä¹‰ | [`src/tool/glob.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/glob.ts#L9-L80) | 9-80 |
| glob ç»“æœé™åˆ¶ | [`src/tool/glob.ts`](https://github.com/anomalyco/opencode/blob/dev/packages/opencode/src/tool/glob.ts#L35) | 35 |

**å…³é”®å¸¸é‡**ï¼š
- `DEFAULT_READ_LIMIT = 2000`ï¼šread å·¥å…·é»˜è®¤è¯»å–è¡Œæ•°
- `MAX_LINE_LENGTH = 2000`ï¼šå•è¡Œæœ€å¤§å­—ç¬¦æ•°
- `MAX_BYTES = 50 * 1024`ï¼šread å·¥å…·å’Œé€šç”¨è¾“å‡ºæˆªæ–­çš„æœ€å¤§å­—èŠ‚æ•° 50KB
- `DEFAULT_TIMEOUT = 2 * 60 * 1000`ï¼šbash å·¥å…·é»˜è®¤è¶…æ—¶ 2 åˆ†é’Ÿ
- `MAX_METADATA_LENGTH = 30_000`ï¼šbash å·¥å…·å…ƒæ•°æ®æœ€å¤§é•¿åº¦
- `limit = 100`ï¼šgrep/glob å·¥å…·ç»“æœä¸Šé™

**å…³é”®å‡½æ•°**ï¼š
- `replace()`ï¼šedit å·¥å…·çš„æ ¸å¿ƒæ›¿æ¢é€»è¾‘ï¼Œä¾æ¬¡å°è¯• 9 ç§ Replacer
- `isBinaryFile()`ï¼šæ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºäºŒè¿›åˆ¶ï¼ˆæ‰©å±•å + å­—èŠ‚åˆ†æï¼‰
- `Ripgrep.files()`ï¼šglob å·¥å…·åº•å±‚ä½¿ç”¨ ripgrep æœç´¢æ–‡ä»¶
- `Truncate.output()`ï¼šbash è¾“å‡ºæˆªæ–­é€»è¾‘ï¼Œè¶…é™åä¿å­˜å®Œæ•´è¾“å‡ºåˆ°æ–‡ä»¶

</details>
