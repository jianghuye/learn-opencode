# v1.2.3：数据库稳定性增强

**发布日期**：2026年2月15日

---

## 一句话总结

这次更新提升了**数据库的稳定性和可靠性**，修复了一些模型变体识别的问题。

---

## 新功能：数据库检查点

### 这次更新了什么？

为 SQLite 数据库添加了 WAL（Write-Ahead Logging）检查点机制。

### WAL 检查点是什么？

简单说，就是**定期把临时数据写入主文件**，防止数据丢失。

想象你在写文章：
- **没有检查点**：所有内容都缓存着，电脑突然关机 → 内容丢失
- **有检查点**：每写一段就自动保存 → 不会丢太多内容

### 对用户有什么好处？

- 更可靠的数据保存
- 数据库文件大小更合理
- 意外关闭时数据更安全

---

## 问题修复：模型变体识别

### 之前的问题

使用 OpenRouter 等提供商时，某些 Anthropic 模型的变体可能无法正确识别。

### 现在的情况

修复了这个问题，确保 OpenRouter 上的 Anthropic 模型也支持变体功能。

另外还修复了 Vercel Bedrock 模型的变体传递问题。

---

## 要不要升级？

| 情况 | 建议 |
|------|------|
| 使用 OpenRouter | ✅ 升级 |
| 使用 Vercel Bedrock | ✅ 升级 |
| 用得好好的 | 可以等下次 |

**升级命令**：

```bash
opencode upgrade
```

---

## 技术细节（可跳过）

<details>
<summary>点击展开完整更新列表</summary>

### Core（核心）

- 确保 OpenRouter 上的 Anthropic 模型也支持变体
- 在数据库打开时添加 WAL 检查点
- 确保 Vercel 变体在 Bedrock 键下传递 Amazon 模型

</details>

---

[← 返回更新日志](./index.md)
